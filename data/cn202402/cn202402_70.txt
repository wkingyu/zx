大模型知识管理系统 周 扬   等 热点专题
中兴通讯技术
2024  年 4 月    第 30 卷第  2 期   Apr . 2024    Vol . 30  No. 2知识需要经过预处理 、文档切分 、向量嵌入等过程 ，才能完
成从原始文档数据到知识库中知识的转变 。其中 ，文档切分
算法是一个关键的技术 。良好的切分算法应该在满足切片大
小的限制的同时 ，保证每一个切片的语义相对完整 。常见的
切分算法包括按段落递归切分 、按标题切分 、按行切分 、按
固定分隔符切分 、按标题切分 、按语义切分等 。具体的文档
知识构建流程如图 3所示 。
结构化良好的文档 ，比如 word 、pdf、html、Markdown
等格式文档 ，通常具有章节结构或标题层次信息 。因此 ，我
们可以考虑文档本身的章节或标题层次结构信息 ，使用按标
题切分算法将标题内容和正文内容综合起来进行切片 ，通过
在每一个切片内容的头部添加切片所在的章节或标题信息 ，
使切片内容可以更好地保持原始文档中的语义信息 。
2.1.2 知识图谱知识
知识图谱通过将知识组织成网络结构的图来表示 ，它连
接了各种实体和它们之间的关系 ，为知识提供了一种直观的
结构化表示 。知识图谱构建流程一般包括数据预处理 、实体
识别 、关系提取 、属性提取 、知识整合和存储等步骤 。其
中，实体识别和关系提取是较为关键的步骤 ，传统上可以分
别调用专业的小模型 ，如在实体识别任务上取得 SOTA 的
W2NER[8]、LERERT[9]等模型 ，在关系提取上取得 SOTA 的
CasRel[10]模型等 ，来完成相应任务 。而在大模型时代 ，由于
LLM 具有强大的语义理解能力 ，可以使用 LLM 通过预设好
的Prompt 进行实体识别和关系抽取 ，形成三元组进行存储 。
2.1.3 数据库知识
数据库知识指的是存储在传统关系数据库 、分析型数据
库等数据库中的知识 。在信息化建设过程中 ，企业一般都陆
续积累了大量的数据库数据 。通过关系数据库理论或数据仓
库理论 ，企业建立了相关的数
据库和表 ，在企业知识管理系
统中并不需要重复建设这部分
知识数据 ，但是需要将这部分
数据纳入知识管理系统中 ，以
便用户方便地使用已有的数据
库知识 。
2.2 知识检索技术
知识检索是 RAG 的核心过
程，也是企业知识管理系统的
最重要的部分 ，其目的是确保用户能够快速 、准确地找到所需的信息 。知识检索包括基础
检索流程和复杂检索流程 。其中 ，典型的复杂检索流程包括
检索前处理 、知识检索 、检索后处理 、答案生成等步骤 。每
一个检索步骤都涉及众多的技术细节 ，而基础检索流程常省
略检索前处理和后处理环节 。为了提升 RAG 的准确度 ，我
们采取了多种前后处理技术 ，并采用了混合知识检索 。知识
检索具体流程如图 4所示 。接下来 ，我们对前处理 、知识检
索、后处理分别进行介绍 。
2.2.1 前处理
在企业知识检索系统中 ，前处理是指对用户查询进行预
处理的一系列技术和方法 ，旨在优化查询 ，以提高检索效率
和准确性 。前处理方法有很多 ，包括多查询扩展 、分解子查
询、术语替换 、补全历史 、指代消融 、假设答案 、StepBack
提示词 、查询改写 、查询路由等 。通过前处理 ，企业知识检
索系统能够更有效地理解用户的查询意图 ，优化查询以适应
复杂的检索环境 ，从而提供更准确 、更相关的检索结果 。这
里我们将对分解子查询 、指代消解 、查询改写进行介绍 。图 3 文档知识构建流程KG：知识图谱      QA ：问答
图 4 知识检索流程API：应用程序编程接口知识文档 预处理文档分片
摘要生成
QA生成
KG生成 KG存储
原文存储向量嵌入 向量存储
用户问题分解子查询
指代消解
查询改写知识图谱检索
数据库检索
插件 API检索上下文压缩
重排生成 答案检索前处理 知识检索 检索后处理
66