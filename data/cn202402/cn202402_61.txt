大语言模型时代的智能运维 裴 丹   等 热点专题
中兴通讯技术
2024  年 4 月    第 30 卷第  2 期   Apr . 2024    Vol . 30  No. 2更加直观地理解和应用这些工具的输出信息 。
以图 1中《星球大战 》这一电影为例 ，LLM 在决策者与
AIOps 工具之间充当翻译者的角色 ，通过几轮交流 ，决策者
能够做出更加明智和准确的决策 。LLM 的引入首先将为
AIOps 工具赋予沟通的能力 ，使其能够更加高效地与决策者
交流 ，从而实现人性化交互的目标 。
AIOps 小模型工具经赋能后被称为工具智能体 （Tool 
Agent ） ，具备响应自然语言指令和要求进行工作的能力 。工
具智能体被定义为现有工具经 LLM 赋能后的智能体 ，其功
能边界清晰 ，可接受应用程序编程接口 （API）调用或自然
语言指令 。但仍需明确的是 ，工具智能体的推理和规划能力
（如有 ）源自工具内置的 AIOps 与岗位型智能体 。这类的
Agent 本质是在现有的 AIOps 小模型的基础上进行封装 ，以
供大模型调用 。如可以将现有的时序异常检测的算法进行封
装，那么大模型通过接口请求该异常检测算法 ，并将需要查
询的时间以及实体通过参数传递给异常检测算法 。该算法拉
取对应实体的时序数据并进行异常检测 ，将最后的结果返回
给大模型 ，完成一次异常检测工具智能体的调用 。
另一种智能体被称为岗位型智能体 （Job Agent ） 。它充
分利用知识 、经验 、规则 、算法 ，具备了类似运维人员的观
察、推理 、规划 、决策能力 ，可与运维人员 、其他岗位智能
体以自然语言交互 ，与工具型智能体以自然语言或 API交
互。工具型智能体是现有流程驱动 、数据驱动的工具经 LLM
赋能后的升级 ，而岗位智能体则以人为本 ，是模拟一线运
维、应用运维 、网络运维 、存储运维等岗位工程师的智能
体。这类的 Agent 是在上述的工具智能体的基础上 ，基于现
有的 LangChain 框架 ，通过 “思维链 ” （CoT）或简单的 、规
则的配置 ，将一系列的工具智能体聚合到一起 ，从而完成一个具体的任务 。如在构建一个有线网络故障排障的岗位型智
能体时 ，用户只需要询问该岗位型智能体某个有线网络在某
个时间段内是否正常 ，该智能体便可以通过历史积累的排障
手册的规则或者大模型自身的思考能力 ，决定先去调用数据
拉取的工具智能体 ，然后调用异常检测的工具智能体 ，并通
过对所有的时序曲线或者日志进行异常检测 ，对所有的异常
检测结果输入到根因定位工具智能体中 ，最后将根因定位的
结果返回给大模型 。大模型决策时要启动故障消除工具智能
体。这些工具智能体以大模型的编排能力为纽带 ，共同完成
了某个特定的岗位或任务 。
1.2 智能运维领域对大语言模型的应用需求
有了 LLM ，AIOps 领域的应用将在不同发展阶段扮演不
同角色 。在近中期应用阶段 ，LLM 可能被定位为助理 、教
练、顾问和参谋 ，其主要任务是提供各种建议和指导 ，而不
直接进行决策和处置 。这种角色定位能够充分利用 LLM 的
知识和智能 ，为运维人员提供必要的支持和帮助 ，同时避免
了直接决策和处置可能带来的风险 。而在中长期的应用阶
段，随着 LLM 的不断优化和经验积累 ，其角色可能逐渐演
变为内部专家 。在这个阶段 ，LLM 具备更多的决策和处置能
力，可以参与到实际的运维工作中 ，对问题进行分析 ，并提
出解决方案 ，因此在一定程度上还担任着决策的角色 。总的
来说 ，AIOps 领域对 LLM 的需求随着发展阶段的不同而有所
变化 ，需要根据错误容忍度和技术挑战的解决难度来合理应
用LLM ，从而实现 AIOps 系统的持续改进和优化 。下面我们
列出了不同阶段 AIOps 领域对 LLM 的应用需求 。
1）知识检索 ：在企业环境中蕴藏着大量的结构化知识 ，
这些知识对于运维和故障排除至关重要 。为了更有效地利用
这些存量知识 ，LLM 时代的 AIOps 需要通过自然语言的方式
进行快速多轮问答 ，以便在需求出现时迅速获取清晰的排障
路径 。为了实现这一目标 ，首要条件是拥有至少 60 min 的
OpsLLM ，并且支持检索增强 （RAG）技术 。这样的模型能
够利用其强大的自然语言处理能力 ，根据问题的特征和上下
文信息 ，快速准确地检索到相关的知识 ，并以问答形式提供
解决方案 ，从而提高了问题解决的效率和准确性 。这种基于
OpsLLM 和RAG 技术的自然语言问答系统 ，为企业运维团队
提供了强大的工具 ，使他们能够更加高效地应对各种运维挑
战，并迅速解决故障 。
2）多文档问答 ：目前许多企业拥有庞大的存量文档资
源，包括但不限于运维文档 、应急手册 、产品手册和排障手
册等 。这些文档通常以 PDF、Word 等格式保存 ，代表着丰
富的知识库 。以售后技术支持文档为例 ，以往需要手动存
 图1 决策者 、大语言模型与智能运维工具之间的联系用户大语言模型时代的 AIOps 工具：
“说人话 ”的工具智能体 （Tool Agent ）
决策者 大语言模型 现有 AIOps 工具眼：监控
手：自动化运维
脑：AIOps
心：专家人工审核 、决策 耳：基于运维大语言模型
的输入增强嘴：基于运维大语言模型
的输出增强
AIOps ：智能运维…………
57