基于动态通道绑定的更高速无源光网络 张伟良  等 技术广角
中兴通讯技术
2024  年 4 月    第 30 卷第  2 期   Apr . 2024    Vol . 30  No. 2上的传输 。每一个业务数据帧在每个通道上的数据单元序列
都需要增加一个 XGEM 帧头 。因此 ，带宽效率会下降 。特别
是当业务数据帧较短时 ，带宽浪费更加明显 。如表 4所示 ，
在短包长情况下 ，例如包长为 100或者 200字节时 ，2通道
和4通道的带宽效率与单通道相比下降明显 。文献 [8]基于抓
取的互联网数据包进行数据包长统计分析 ，其中 100字节长
度的数据包较为典型 。
3 HSP动态通道绑定的改进研究
HSP 灵活通道绑定目前存在的待改进问题包括 ：
1）带宽效率问题 。每个业务数据帧都在多通道上传输 ，
并且每个通道都需要增加 XGEM 帧头 。这导致带宽效率下
降。虽然 IEEE Nx 25G-EPON 提供了一种业务数据帧连续传
输方法 ，但是最前面的业务数据帧仍然需要在各通道上增加
信封帧头 。因此 ，如果业务数据帧是不连续的 ，那么每个业
务数据帧的传输仍然需要在每个通道上增加帧头 。
2）顺序恢复问题 。HSP 动态通道绑定只是做了一个数
据单元顺序恢复的条件假设 ，并未提供实现机制 。虽然
IEEE Nx 25G-EPON 的EPAM 机制可以在 HSP 中重用 ，例如
XGEM 帧头中有个 18 bit的选项域可以用来定义类似 EPAM
功能 ，但是该机制要求每个通道都有帧头 。这会对带宽效率
产生影响 。另外 ，在标准讨论过程中 ，有多个功能可能用到
选项域 ，因此需要统筹考虑选项域的重定义 。
在现有 HSP 动态通道绑定机制的基
础上 ，并结合 Nx25G-EPON 动态通道绑
定机制 ，我们利用 HSP 自身的技术特征 ，
提出 HSP 动态通道绑定中的序列化传输
和顺序恢复方法 。
为了描述方便 ，我们总结了 Nx25G-
EPON 和HSP 动态通道绑定中的数据单
元最早最小传输规则 ：业务层数据帧被
分割成多个数据单元 。各数据单元按照
最早最小规则在多个通道上发送 ，即每
个数据单元在传输机会最早且通道编号
最小的通道上发送 。接收端按照最早最
小规则接收数据单元 ，即总是在有最早
时隙和通道编号最小的通道上接收 ，并
对接收到的数据单元进行重组 ，以恢复
业务数据帧 。
3.1 序列化传输［9］
在Nx25G-EPON 的动态通道绑定机制中 ，对于属于同一个 LLID 的连续业务数据帧 ，除了第一
个业务数据帧外 ，后续的每个业务数据帧的前导都将转化为
一个 ECH ，而不需要在每个通道上增加 ESH。实际上 ，即使
是第一个业务数据帧也不需要在每个通道上增加 ESH。这是
因为当业务数据帧切分为 EQ后，EQ序列会按照最早最小规
则在多个通道上发送 。接收端也按照最早最小规则恢复出同
样的一个 EQ序列 ，并恢复为业务数据帧 。
本文提出的序列化传输把业务数据帧封装成 XGEM 帧，
并把属于同一个接收端的连续 XGEM 帧变成 XGEM 帧序列 。
XGEM 帧序列被切分成数据单元 。数据单元按照最早最小规
则在多个通道上发送 。接收端按照最早最小规则在多个通道
上接收数据单元 ，并将其恢复成数据单元序列即 XGEM 帧序
列。下面我们分别描述下行序列化传输和上行序列化传输 。
图5给出了上行序列化的发送过程 。其中 ，数据单元
为4字节 ，用户数据帧和 XGEM 帧序列仅仅是示例 ，不影
响上行序列化传输方法的实现 。ONU 从上行带宽分配结构
uBWmap 中收集各通道上的上行带宽 ，收集业务数据帧并▼表 4 不同包长在不同通道数情况的带宽效率
通道
数
1
2
4业务数据帧长 /字节
64
88.89%
80.00%
66.67%100
92.59%
86.21%
75.76%200
96.15%
92.59%
86.21%500
98.43%
96.90%
93.98%1 000
99.21%
98.43%
96.90%1 500
99.47%
98.94%
97.91%
▲图5 上行序列化传输示例ONU ：光网络单元
PSBu ：上行物理同步块uBW ：上行带宽
XGEM ：数据封装XGTC ：传输汇聚125 μsXGEM
帧头XGEM
帧头XGEM 有效载荷 XGEM 有效载荷XGEM
帧头XGEM 有效载荷
…… 0 1 2 3 17 18
ONU x在波长 λ1上的 uBW
XGTC 帧头 3
XGTC 帧头 4PSBu
PSBu0 1 2 3 4 57 10 13 166   9 12 15 18 XGTC 帧头 2XGTC 帧头 1 8 11 14 17
PSBuPSBu λ1
λ2
λ3
λ4uBWmap 3uBWmap 2uBWmap 1
ONU x在波长 λ2上的 uBW
ONU x在波长 λ3上的 uBW
103