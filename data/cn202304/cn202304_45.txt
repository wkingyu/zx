一种面向服务的算网路由架构方案 黄光平  等 热点专题
中兴通讯技术
2023  年 8 月    第 29 卷第  4 期   Aug . 2023    Vol . 29  No. 4务标识的云内均衡和引流等 。
2.2 层次化算力路由机制
将算力系统的全颗粒度算力资源状态信息通告同步到网
络管控系统 ，将会导致现有 IP分组网络协议收敛震荡和表
项膨胀 。为保持算力路由与现网路由协议体系的平滑兼容 ，
需要对算力资源状态进行分类和聚合 ，在不同的网络节点维
护不同类型的算力资源类别以及对应的算力路由表项 ，从而
确保算力路由通告与现有 IP路由之间的平滑兼容 。全局算
力路由表项条目数量仅与网络边缘节点有关 ，与云侧算力服
务实例无关 。这将压缩远端网络节点维护的算力路由表项空
间，减轻节点的查表和处理负荷 。高频变化的算力服务实例
资源状态仅维护在本地网络边缘节点 。这种层次化算力路由
的机制 ，将控制面的端到端算网路由决策分层分布在网络远
端和本地边缘节点 ，在转发流程上涉及两段路由转发 ：从网
络远端到本地边缘节点 、从本地边缘节点到算力服务实例 。
当然 ，这种层次化表项维护机制 ，将可能导致网络头结点算
力资源信息的部分失真 ，可以满足绝大部分算力业务路由场
景需求 ，但在极端异常场景下 ，仍需要引入丢弃或保护策略
机制 。
2.3 基于算力感知的算网路由解决方案
算力资源状态如何约束和影响网络边缘节点对算力和网
络的选择 ，是算力路由的关键 ，也是基于 IP路由的主要增
量。因此 ，算力资源状态在网络控制面的呈现形态 ，是决定
选择哪种端到端算力路由解决方案的关键因素 。如前文第 1
节所述 ，算力参数主要有原始算力参数和网络维度算力
Metric 两种主要的呈现形态 ，与之对应的是两种不同的算力
路由方案 。
1） 基于算力映射的算力路由方案
算力系统向网络管控系统通告算力服务关联的原始算力
状态数据 。该原始算力状态数据与网络控制面路由决策系统之间的索引接口即为服务标识 。网络控制面基于此类原始算
力状态数据 ，结合网络资源状态 、业务 SLA需求 ，生成算网
路由策略 ，完成原始算力状态数据到主机地址的映射 。这个
方案的优势是网络节点无须维护额外的算力路由表项 。当
然，在分布式路由协议方案下 ，算力原始状态数据的通告同
样需要层次化状态维护机制 ，以平滑兼容现网路由协议 。
2） 基于算力 Metric 的算力路由方案
算力系统通过一定的度量和折算机制 ，将算力服务关联
的原始算力状态数据转换为网络维度的度量 Metric ，并通过
特定协议接口向网络管控系统通告 。具体来讲 ，这里的
Metric 可以是网络维度既有的 Metric 类型 （如时延 、带宽 、
等） ，也可以是新增的算力 Metric 类型 。前者可以沿用既有
的路由算法完成端到端算网路由编排 ，后者则需要扩展基于
算力 Metric 的路由算法完成端到端路由编排 。分布式路由协
议方案下的层次化路由机制引入与上文所述类似 ，这里不再
赘述 。
2.4 基于算力与网络解耦的多因子多策略路由机制
在IP分组网络基础上执行算力路由 ，本质上是将传统
IP网络的网络单维路由算法升级为算网二维路由算法 。算力
和网络两个维度的约束变量理论上是乘数关系 ，但在实际部
署中 ，这种算网全维乘数算法将大幅增加路由算法的复杂
度，甚至破坏现有 IP路由协议机制的稳定性 。远端网络边
缘节点将 “选算 ”和“选网 ”分离处理 ，使两类路由先决策
再进行线性叠加 ，形成近似的算网融合优化路由策略 。因
此，算力和网络路由解耦 ，将算网二维乘数算法简化为一维
线性叠加算法 ，并在算网融合的基础上 ，简化路由协议流
程。需要说明的是 ，这种解耦机制不影响现有 IP路由协议 。
算网解耦以及算力 、网络 、业务 SLA多种路由因子的引
入，也为算网系统提供了多元调度机制 ，使能灵活的算网业
务和资源运营模式 。算网调度因子可以分为如下 3类：
1）体验类 ：服务质量和体验相关的 SLA指标 ，如时延 、
抖动 、丢包等 ；
2）代价类 ：服务关联的算网资源成本 、能耗等 ；
3）资源类 ：服务关联的算网资源的使用效率 ，如算网
均衡度 、算网利用率等 。
相关算网调度策略有 4种：
1）体验优先 ：体验类指标最优调度 ；
2）代价优先 ：体验类指标满足设定门限指标 ，代价类
指标最优调度 ；
3）资源优先 ：体验类指标和代价类指标均设定门限指
标，资源类指标最优调度 ；
图3 服务标识在 IPv6扩展报文头中的独立封装示例ID：身份标识      SANID ：服务标识SANID 指标 SR 标记 预留
SANID （服务 ID)
流量 ID（可选)
预留
41