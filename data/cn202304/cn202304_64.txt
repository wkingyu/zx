面向新型智能计算中心的全调度以太网技术 段晓东  等 专家论坛
中兴通讯技术
2023  年 8 月    第 29 卷第  4 期   Aug . 2023    Vol . 29  No. 4备端分布式节点操作系统 （NOS） 。其中 ，集中式 GSOS 用于
提供网络全局信息 ，实现基于全局信息编址 、日常运维管理
等功能 ；设备端 NOS 可实现动态负载均衡 、动态全局调度
队列 （DGSQ ）调度等分布式网络管控功能 。
2）网络层 ：GSE 网络主要实现 GSP 和GSF 协同 ，构建
出具备全局流量调度 、链路负载均衡 、流量精细反压等技术
融合的交换网络 。其中 ，Fabric 部分可支持二层 GSF 扩展 ，
以满足更大规模组网需求 。
3）计算层 ：即GSE 网络服务层 ，包含高性能计算卡
（GPU 或CPU）及网卡 ，初期将计算节点作为全调度以太网
边界 ，仅通过优化交换网络能力提升计算集群训练性能 。未
来计算将与网络深度融合 ，以进一步提升高性能计算能力 。
GSE 3层架构涉及计算节点 、GSP、GSF 及GSOS 4类设
备，各设备分工如下 ：
1）计算节点 ：即服务器侧的计算卡 、网卡 ，提供高性
能计算能力 。
2）GSP：即网络边缘处理节点 ，用以接入计算流量 ，
并对流量做全局调度 ；流量上行时具备动态负载均衡能力 ，
流量下行时具备流量排序能力 。
3）GSF：即网络核心交换节点 ，作为 GSP 的上一层级
设备 ，用于灵活扩展网络规模 ，具备动态负载均衡能力 ，以
及反压信息发布能力 。
4）GSOS ：即全调度操作系统 ，提供整网管控的集中式
网络操作系统能力 。
3.2 GSE技术三大核心理念
3.2.1 基于报文容器的转发及负
载分担机制
智算中心网络通常采用胖
树（Fat-Tree ）架构 ，任意出入
端口之间存在多条等价转发路
径。与云数据中心业务流量不
同，智算业务流量具有 “数量
少，单流大 ”的特点 。传统以
太网逐流负载分担方式导致链
路利用率不均 ，从而引起网络
拥塞 。单流多路径是提升智算
中心网络有效带宽 、避免网络
拥塞的关键技术手段 。业界传
统网络中实现单流多路径的技
术方案包括切包交换 、逐包交换和组包交换 。
1）切包交换 ：核心思想是在网络入口将数据包逻辑切
分成若干个信元 ，将属于同一个数据包的信元调度到不同路
径进行传输 ，在网络出口侧对信元进行排序及重组 ，如图 2
所示 。该方式可充分利用多路径交换能力 ，最大程度实现链
路负载均衡 。但在高带宽演进趋势下 ，由于被切分后的信元
长度短 ，信元头部开销带来较多的带宽损耗 ，且极高的均衡
调度频率对硬件有较高的要求 。
2）逐包交换 ：核心思想是不对数据包进行处理 ，直接
通过轮询或权重等机制将数据包发往不同路径进行传输 ，在
网络出口侧对报文进行排序 ，如图 3所示 。该方式不存在额
外的报文开销 ，也无需高频的均衡调度周期 。但由于数据包
长度分布连续 ，难以准确根据已发往每条路径的数据包总数
据量来实现均衡负载 ，链路负载均衡性差 ，易受微突发影响
导致网络拥塞甚至丢包 。
3）组包交换 ：核心思想是将数据包组装成定长且长度
较长的数据帧 ，并为数据帧添加帧头 （用于组装和还原 ） 。
当数据包不足以填充一个大帧时 ，就需要填充冗余数据成
帧，并利用网络各节点对大数据帧进行存储转发 ，如图 4所
示。该方式下大帧均衡调度的周期短 ，可适应高带宽的转发
需求 。但帧头及冗余数据填充及存储转发机制会带来一定程
度的带宽和时延损耗 。
基于上述分析 ，面向后续智算中心高带宽 、低时延的网
▲图2 切包交换示意图
▲图3 逐包交换示意图3 2 1
3 2 1叶节点
交换机脊节点
交换机
脊节点
交换机
脊节点
交换机2-22-12-22-1 叶节点
交换机3 2 1
3 2 12-22-12-22-1
2-22-12-22-1
6 5 4 3 2 1 叶节点
交换机脊节点
交换机
脊节点
交换机
脊节点
交换机6 5 4 3 2 1叶节点
交换机41
52
6
3
60