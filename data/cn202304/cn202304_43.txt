一种面向服务的算网路由架构方案 黄光平  等 热点专题
中兴通讯技术
2023  年 8 月    第 29 卷第  4 期   Aug . 2023    Vol . 29  No. 4面向服务的算网融合路由技术在典型的业务场景下 ，有
独特的业务和资源应用价值 。而当前的业务场景还存在一些
亟待解决的问题 ，仍需要充分发挥面向服务的算网融合路由
技术的优势 。
1 算力路由在 IP分组网络中面临的主要问题
算力路由是叠加在传统 IP分组网络基础上的一种增强
性路由 。在主机 IP地址路由的基础上 ，网络需要增强算力
感知的能力 ，并在此基础上执行算网融合路由 。这既包括对
算力服务的路由寻址 ，也包括对算力服务节点的主机路由寻
址。算力感知和算力路由引入了全新的算力因子 ，这给 IP
分组网络带来 4个方面的问题 。
1）IP主机地址路由体系下的算力服务路由寻址问题
基于 IP分组网络的算力路由 ，本质上是面向服务的分
布式多算力实例寻址路由 ，即基于算力资源状态和网络资源
状态 ，在多实例多路径中根据服务等级协议 （SLA）需求进
行算力节点优选或引流 。这种面向服务的分布式路由机制 ，
跟面向 IP主机地址的路由机制完全不同 。后者指向全局唯
一主机 ，且基于前缀的寻址机制是基于物理上的子网部署模
式；而算力路由从语义上并不指向特定算力服务主机 ，而是
指向特定算力服务 ，并且同一类算力服务可能部署在不同的
物理子网内 。因此 ，基于 IP前缀的子网模式并不适用于算
力服务的部署模式 。同一类算力服务与多服务实例及多实例
主机地址关联 ，算力服务仅仅充当一种抽象类型索引 。网络
需要在这个服务索引与它对应的算力 、网络资源 、服务实例
主机地址之间构建动态的映射关系 。
2）算力感知对 IP路由协议造成的震荡问题和表项膨胀
问题
网络对算力资源状态的感知 ，需要针对相应的接口和协
议进行扩展 ，并且在网络路由和转发节点引入新的算力路由
表项 。然而 ，算力资源类型及其状态变更频率都非常多样
化，全颗粒度算力资源状态向网络暴露 ，将不可避免地导致
现有网络协议 （如边界网关协议 ）收敛震荡 ，对现网运行造
成破坏性冲击 。除此之外 ，海量的算力资源状态必将导致网
络路由和转发节点对应数量级的算力路由表项 ，对节点性能
造成严重影响 。
3）算力对网络暴露的参数类型及颗粒度问题
对IP分组网络控制面而言 ，算力参数可以分为算力原
始状态数据和网络链路维度的算力度量折算值 （即网络路由
域的 Metric ） 。
a）算力原始状态数据 。算力系统通过预定接口向网络
管控系统直接通告算力原始运行状态数据 ，如服务实例会话负荷 、CPU/GPU 占用率 、内存占用比等 。网络管控系统会
对这些原始数据按照特定规则或算法进行处理 ，并生成对应
的算网路由策略 ，指导网络路由和转发节点进行流量引流和
路由 。这种模式将显著增加网络管控系统的处理复杂度和运
行负荷 。
b）网络链路维度的算力 Metric 。算力系统将自身运行
的动态数据折算成网络链路维度的 Metric 并向网络管控系统
通告 ，后者据此执行传统 IP路由 。但是这种模式势必引入
巨量的头结点路由开销 ，比如需要维护每实例 、每出口节
点、每链路的路由条目[5-6]。
4）算力与网络融合路由带来的多因子多策略问题
基于分组网络系统执行算力路由时 ，网络和算力融合路
由将带来多因子联合优化的策略问题 。算网双维度因子的全
面融合将导致路由协议体系及其算路流程复杂度翻番 ，并严
重冲击当前既有的路由和转发性能 ，无法实现与现网的平滑
兼容 。
2 基于服务标识的算力路由技术
在IP路由协议体系中引入一个拥有独立语义的服务标
识，将从根本上解决前文所述算力路由在 IP网络中面临的
主要问题 ，并提供统一的端到端架构解决方案 。当然 ，服务
标识也给 IP网络带来一些新问题 。这是在进行架构设计尤
其是服务标识设计与界定的过程中需要特别考量的 。
2.1 基于服务标识的算力路由架构
在算网融合调度和路由系统中引入服务标识 ，为IP分
组网络提供了一个面向业务和算力系统的新型接口 ，使网络
得以提供面向服务标识的路由和寻址功能 。如图 1所示 ，基
于IP分组网协议的服务标识在数据面扩展定义和封装 ，并
在控制面经由服务标识 ，打通算力系统动态资源和业务系统
精细化 SLA 需求的感知接口 ，从逻辑上构成一个在 IP分组
网上的 OverLay 服务子层 。传统分组数据网作为连接子层 ，
为服务子层提供连接支撑能力 。服务子层与连接子层之间以
控制面服务标识为索引进行交互[7]。
如前文所述 ，服务标识在语义上与主机位置无关 ，因此
传输层有可能通过服务标识保持业务连接 ，从而解决传统传
输层终端或服务迁移连续性的问题 ，即主机地址变更导致的
链路迁移仅在 L3层执行 ，而L4层面向终端和用户的业务链
接因为服务标识的位置无关属性得以维持不变 ，从而保障用
户在这类场景下的业务体验 。
数据面的服务标识是面向用户的一种轻量级算网服务能
力集合表征 。服务标识关联的算网质量和能力在特定算网运
39