面向新型智能计算中心的全调度以太网技术 段晓东  等 专家论坛
中兴通讯技术
2023  年 8 月    第 29 卷第  4 期   Aug . 2023    Vol . 29  No. 4的路径上进行流量调度 。这种方式可保证全网中前往任何一
个端口的流量既不会超过该端口的负载能力 ，也不会超出中
间任一网络节点的转发能力 ，可降低网络中 In-cast 流量产
生的概率 ，减少全网内部反压机制的产生 。
基于 PKTC 的负载均衡技术和 DGSQ 全局调度技术在平
稳状态下可很好地进行流量调控与分配 。但在微突发 、链路
故障等异常场景下 ，短时间内网络还是会产生拥塞 ，这时仍
需要依赖反压机制来抑制源端的流量发送 。传统 PFC 或FC
都是点到点的局部反压技术 ，一旦触发扩散到整个网络中 ，
会引起头阻 HoL、网络风暴等问
题。全调度以太网技术需要精
细的反压机制来守护网络的防
线，通过最小的反压代价来实
现网络的稳定负载 。
3.2.3 全调度以太网的 GSOS
综合考虑分布式 NOS、集
中式 SDN 控制器的优势 ，全调
度以太网的 GSOS 分为全调度控
制器 、设备侧 NOS 两大部分 ，
可全面提升 GSE 网络自动化及
可视化能力 。
GSP 和GSF 的盒式设备支持
独立部署 NOS，有助于构建出
分布式网络操作系统 。每台 GSP
和GSF 具备独立的控制面和管理面 ，可以运行属于设备自身
的网络功能 ，提升系统可靠性 ，
降低部署难度 。分布式 NOS 可
以将单点设备故障限制在局部
范围 ，避免对整网造成影响 。
集中式 GSOS 提供更好的网
络全局信息 ，简化基于全局端
口信息的 DGSQ 系统的建立和维
护。同时 GSOS 也是整网运维监
控的大脑 ，可协同设备实现对
实时路径 、历史的记录及呈现 ，
以支撑网络运维 。
3.3 GSE网络工作机制
GSE 交换网络采用定长的
PKTC 进行报文转发及动态负载
均衡 ，通过构建基于 PKTC 的DGSQ 全调度机制 、精细的反
压机制和无感知自愈机制 ，实现微突发及故障场景下的精准
控制 ，全面提升网络有效带宽和转发延迟稳定性 。相关的具
体端到端转发流 程图 9所示。
1）源端 GSP 设备从计算侧收到报文后 ，通过转发表找
到最终出口 ，并基于最终出口按需将报文分配到对应的
DGSQ 中进行授权调度 。
2）源端 GSP 设备获得授权后 ，遵循 PKTC 的负载均衡DGSQ ：动态全局调度队列      GSP ：网络边缘处理节点
▲图7 基于 DGSQ 调度流程
▲图8 全调度以太网操作系统架构API：应用程序编程接口
CLI：命令行界面NOS ：节点操作系统
OS：操作系统SSH：远程连接工具GSP2
A2 B2 C2DGSQ-A 3
DGSQ-B 3
DGSQ-C 3GSP3
DGSQ-A 2
DGSQ-B 2
DGSQ-C 2GSP2GSP1DGSQ-A 1
DGSQ-B 1
DGSQ-C 1GSP1
DGSQ-A 2
DGSQ-B 2
DGSQ-C 2GSP2GSP3
授权请求 授权请求
授权回复
授权回复
全调度操作系统
全调度控制和管理层
协议栈层
基础设施层
带内互联通路
管理平面
（CLI、SSH、Syslog 、Netconf 等）
控制平面
（协议栈服务等 ）
数据平面
（转发基础设施服务等 ）
基础 OS和平台软件设备侧 NOS
控制平面服务开放 API
数据平面服务开放 API带内互联通路
带内互联通路管理平面
（CLI、SSH、Syslog 、Netconf 等）
控制平面
（协议栈服务等 ）
数据平面
（转发基础设施服务等 ）
基础 OS和平台软件设备侧 NOS
控制平面服务开放 API
数据平面服务开放 API
62