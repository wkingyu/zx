基于机器学习的智能路由解释方法 孟子立  等 热点专题
中兴通讯技术
2023  年 10 月    第 29 卷第  5 期   Oct . 2023    Vol . 29  No. 53 基于超图的智能路由解释技术
本节中 ，我们介绍一种使用超图来对基于机器学习的智
能路由算法进行解释的技术 。我们首先简要介绍超图 ，以及
如何使用超图来表示网络系统 。然后 ，介绍如何使用超图来
解释网络系统中的关键组件 。
3.1 超图形式化
超图由点和超边组成 。一个普通图中的边与超图中超边
的主要区别在于 ：超边可以覆盖多个顶点 ，如图 1所示 。我
们将所有顶点和超边的集合分别表示为 V和E，每个顶点 v
和超边e的特征分别表示为 fv和fe，所有顶点和超边的特征
矩阵分别表示为 FV和FE。
使用超图 ，我们还可以表示 SDN 路由优化的建模 。SDN
控制器收集所有数据平面交换机的信息 。在这种情况下 ，
SDN 路由优化器分析每个源 -目的地对的流量需求 ，并基于
拓扑结构和链路容量为所有源 -目的地流量需求生成路由
路径 。
然而 ，由于路径中交换机的数量是不确定的 ，因此路由
路径是很难表示的高阶信息 。以前研究者尝试使用整数规划
来表示路径 ，但是这种方法很难在有限的时间内进行有效优
化。RouteNet[3]设计了一种基于深度神经网络的优化算法 ，
以连续地为每个源 -目的地流量需求对选择最佳路由路径 。
为了使用超图来形式化系统 ，我们将路径视为超边 ，物
理链路视为顶点 。覆盖顶点的超边表示该对需求的路径包含
一条链路 。图1展示了超图映射结果的一个例子 。链路 （1, 
2，…，8）被建模为顶点 。两对传输需求 （a→e和a→g）
被建模为超边 （表示为e1和e2） 。顶点特征 FV是链路容量 。
超边特征 FE是每对交换机之间的流量需求量 。如果超边 e覆
盖顶点v，则e的对应的网络流量需求应通过 v的对应的
链路 。
RouteNet 生成整体路由结果 ，即所有流量需求的路径 。
例如 ，假设 RouteNet 决定从a到e的需求通过链路 2、5、6
（蓝色路径 ） ，从a到g的需求通过链路 1、3、6、8，相应的
超图应该是图 1（c） 。超边e1覆盖顶
点2、5、6，超边e2覆盖 1、3、6、8。
所有顶点 -超边连接{v, e}是：
{(2， e1)， (5， e1)， (6， e1)， (1， e2)，
 (3， e2)， (6， e2)， (8， e2)}， （1）
其中 ，解释工作的关键是我们需要知
道哪些是对整体路由决策至关重要的连接 。如果网络管理员知道这个机器学习的智能体中决定性
的决策 ，那么他们或许就可以从关键决策的对比中理解智能
路由决策的原因 。在这里 ，我们总结了我们能用超图对路由
结果表示的两个原因 ：
1）图结构化输入或输出 。由于图是超图的一种简单形
式，如果全局系统的输入或输出是图结构化的 ，则该系统可
以自然地用超图表示 。
2）二元变量映射 。如果全局系统构建两个变量之间的
映射 ，这两个变量可以用顶点和超边表示 。映射可以用超图
中的连接关系表示 。这不仅仅包括路由 ，有时候也可以拓展
至许多资源分配系统中资源 （如物理服务器 ）和请求 （如网
络功能 ）之间的映射构建 。
只要全局系统具有上述特征之一 ，我们就可以用超图进
行表示并解释 。
3.2 关键连接搜索
下一步 ，我们要找到对原始系统优化结果至关重要的顶
点-超边连接 。首先 ，我们介绍超图的关联矩阵表示 。关联
矩阵I（大小为|E|×|V|）是一个 0-1矩阵 ，用于表示顶点和
超边之间的连接关系 。Iev=1表示超边 e包含顶点 v。例如 ，
图1中超图的关联矩阵为 ：
I=( )01001100
10100101 。 （2）
我们的设计目标是评估原始系统的每个连接对优化结果
的影响 。以SDN 路由为例 ，我们将评估式 （2）中每个 （链
接、路径 ）连接对原始系统优化结果的影响 。我们通过分数
的关联矩阵 W∈ [0,1]||E×|V|来表示每个超边 -顶点连接的重要
性。如果v和e之间没有连接 ，则Wev=0。关键连接搜索算
法的概述为 ：
min D(YW，YI)+λ1||W||+λ2H(W)    s.t. 0≤Wev≤
Iev，  ∀v∈V， e∈E， （3）
（a）一个路由的结果
 （b）网络对应的拓扑
 （c）路由结果对应的超图表示
图1 用超图表示的路由结果1
2 34
5 6
7 8a b
c d e
f ga b
c d e
f g1 3
2485
76e1e2
58