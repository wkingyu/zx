基于数字孪生的算力网络自优化技术研究 许 胜  等 热点专题
中兴通讯技术
2023  年 6 月    第 29 卷第  3 期   Jun . 2023    Vol . 29  No. 3Policy= {L(i，n-i+1)，D(i，i+1)}， （1）
其中 ，L(i, n-i+1)表示网络中的任意节点 i都可以与第 n-
i+1号节点建立新的链路连接 ，D(i, i+1)表示节点 i与节点
i+1之间的带宽扩大为原来的 2倍。
图2左侧是执行策略前的算力网络拓扑结构 ，图2右侧
表示执行策略后的算力网络拓扑结构 。红色的线表示在 2号
节点和 5号节点之间新建链路 ，这样可以降低从 2号节点到
5号节点的请求时延 ；绿色的线表示将 2号节点和 3号节点
间的带宽扩大为原来的 2倍，这样也能降低时延 。两种策略
分别对应不同的成本 。
对于新建链路的策略 ，将单位长度的有线链路开销记作
cl，那么对于骨干网络中的任意一对节点 i,j(j=n-i+1)，
由于 j节点依赖于 i节点的确立 ，那么新建链路的开销 Cl
i可
以写为 ：
Cl
i=cldij， （2）
其中 ，dij表示节点 i与节点 j的物理距离 。
对于扩容链路带宽的策略 ，将扩充单位带宽所需的开销
记作 cb，那么对于骨干网中任意两个节点 i,j(j=n-i+1)，
扩容链路带宽的开销 Cb
i可以写为 ：
Cb
i= cbbij， （3）
其中 ，bij表示节点 i与节点 j之间的带宽 。
以上是单个节点的情况 。
从网络整体的角度分析 ，在保证时延不超过业务最大容
忍时延的条件下 ，每个节点可以采取也可以不采取上述策
略，那么网络整体的开销可以表示为 ：
C= ∑i=1N(XiCl
i+YiCb
i)， （4）
其中 ，Xi={0 or 1}是一个布尔变量 ，代表第 i号节点是否选
择新建链路的策略 。同理 ，Yi={0 or 1}表示第 i号节点是否
选择扩大链路带宽 。
综上所述 ，当物理网络一个业务超时后 ，虚拟网络调用
遗传算法 ，优化目标可以写为 ：Min  C，
s.t.  Tm<Tthres， （5）
其中 ，Tthres表示用户最大的容忍时延 ，Tm表示用户 m从发出
任务请求到接收计算结果的时延 ，可以表示为接入网无线链
路的时延与核心网有线链路两部分时延之和 ：
Tm=Bm
bmlb(1+γ)+bnr，（6）
其中 ，Bm表示用户 m发出任务的数据包大小 ，bm代表分配
给用户 m的带宽 ，γ表示用户 m到接入路由节点的传输信噪
比，r表示有线链路传输速率与带宽的速率系数 ，bn表示有
线链路分配给该任务的带宽 。
以上模型对于实体网络和孪生虚拟网络均适用 。
遗传算法的基本运算过程包括种群的初始化 ，适应度函
数的选择 、交叉 、变异等 。我们将遗传算法与数字孪生中的
策略模型相结合 ，并采用二进制编码 ，编码数组的每一位表
示网络中的一个节点 ，取值为 0或1，0表示不执行式 （5）
中的策略 ，1表示执行式 （5）中的策略 ，从而形成策略
编码 。
与数字孪生结合的遗传算法具体步骤如下 ：
1）实时监测控制算力网络信息 。孪生网络一直处于监
测控制实体算力网络的状态 ，能够实时采集实体网络的信
息。当实体网络的节点 n超时时 ，孪生网络会记录此时的实
体网络状态信息和超时节点信息 ，并将这些信息传入遗传算
法模块 。
2）初始化策略种群 。我们设置最大进化代数 max_gen
和子代数量  p，随机生成 M个个体作为初始群体 P(0)。
3）适应度函数的选择 。我们将改善网络状况的策略对
应的开销作为适应度函数 ，将时延小于业务最大允许时延作
为约束条件 。这一设置旨在最小化适应度函数 ，即最小化开
销，对应公式 （7） 。
4）个体评价 。根据适应度函数计算策略群体 P(t)中各个
策略个体的适应度 ，即每种策略对应的开销总和 。
5）选择运算 。我们对整个策略群体进行评估 ，将每个
个体的适应度由小到大进行排序 ，保留排名靠前的 N个个
体，舍弃策略对应的开销大的个体 。选择运算的目的是把优
化的个体直接遗传到下一代 ，或通过配对交叉产生新的个体
后再遗传到下一代 。
6）交叉 。将步骤 3）中选择算子筛选后的群体互相交
叉，产生新的策略组合 。
7）变异 。将策略种群的部分个体的策略排列进行突变 ，
例如 0变成 1或者 1变为 0。
 ▲图2 两种典型优化策略示意图12 3
4
6 513 2
6 54
48